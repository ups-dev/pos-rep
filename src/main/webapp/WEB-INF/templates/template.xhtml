<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"

                xmlns:u="http://ups.edu.ec/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                template="/WEB-INF/templates/ups-master.xhtml">

    <ui:define name="ups-title">
        POS-REP - <ui:insert name="posRep-title"><h:outputText value="#{posRepBundle['AppName']}"/></ui:insert>/>
    </ui:define>

    <ui:define name="ups-head">
        <h:outputStylesheet library="default" name="css/pfcrud.css"/>
        <h:outputScript library="default" name="js/pfcrud.js"/>
    </ui:define>

    <ui:define name="ups-frame">

        <u:frame showTestingLabel="#{not facesContext.isProjectStage('Production')}"
                 title="Administración del Sistema de Reportes">
            <f:facet name="navigation">
                <div class="d-flex flex-column gap-2 m-2">
                    <ui:include src="/appmenu.xhtml"/>
                    <p:panel header="Estructura">
                        <h:form id="secOrgEstructuraMenu">
                            <ui:insert name="ups-content-estructura"/>
                        </h:form>
                    </p:panel>
                    <p:panel header="Menú">
                        <ui:include src="/security-ups-menu.xhtml"/>
                    </p:panel>
                </div>
            </f:facet>

            <f:facet name="userMenu">
                <h:form id="SecurityUpsLogoutForm">
                    <u:userMenu
                            initials="#{userSessionBean.userInfo.firstName.charAt(0)} #{userSessionBean.userInfo.lastName.charAt(0)}"
                            name="#{userSessionBean.userInfo.fullName}"
                            detail="#{userSessionBean.userInfo.login}">
                        <f:facet name="actions">
                            <p:menu>
                                <p:menuitem value="Cerrar sesión" icon="fa fa-right-from-bracket"
                                            action="#{userSessionBean.logout()}"/>
                            </p:menu>
                        </f:facet>
                    </u:userMenu>
                </h:form>
            </f:facet>

            <f:facet name="content">
               <ui:insert name="posRep-content">
                    <u:page fullWidth="true">
                        <f:facet name="title">
                            <ui:insert name="ups-breadcrumb-contenido"/>
                        </f:facet>

                        <u:card>
                            <ui:insert name="ups-content-center"/>
                        </u:card>
                    </u:page>
                </ui:insert>
            </f:facet>

            <f:facet name="footer">
                <ui:decorate template="/WEB-INF/templates/sections/ups-footer.xhtml"/>
            </f:facet>
        </u:frame>

        <ui:include src="/confirmation.xhtml"/>
    </ui:define>
</ui:composition>
